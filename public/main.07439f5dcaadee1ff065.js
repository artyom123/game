!function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=5)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var a=function(){function t(e,i,n,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.text=i,this.color=n,this.size=a,this.font=s}return n(t,[{key:"draw",value:function(t,e){this.context.textAlign="center",this.context.fillStyle=this.color,this.context.font=this.size+"px "+this.font,this.context.fillText(this.text,t,e)}}]),t}();e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var a=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.elem=i}return n(t,[{key:"draw",value:function(){var t=window.innerWidth,e=window.innerHeight;this.context.drawImage(this.elem,0,0,t,e)}}]),t}();e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.popup=document.querySelector("#popup"),this.magic=document.querySelector("#magic"),this.formId=document.querySelector("#form"),this.divTable=document.querySelector(".table-wrapper"),this.form=document.createElement("form"),this.inputText=document.createElement("input"),this.inputSubmit=document.createElement("input"),this.h2=document.createElement("h2"),this.p=document.createElement("p"),this.div=document.createElement("div"),this.button=document.createElement("button"),this.table=document.createElement("table"),this.tbody=document.createElement("tbody"),this.tr=document.createElement("tr"),this.tdName=document.createElement("td"),this.tdLevel=document.createElement("td"),this.btnFire=document.createElement("button"),this.btnIce=document.createElement("button"),this.btnWater=document.createElement("button"),this.btnSoil=document.createElement("button"),this.btnHealth=document.createElement("button"),this.text_h2=document.createTextNode("Hi, Hero"),this.text_p=document.createTextNode("Save the magical world from monsters!"),this.textGo=document.createTextNode("GO"),this.text=document.createTextNode("RESTART")}return n(t,[{key:"createFormUser",value:function(){this.form.setAttribute("id","users"),this.form.classList.add("users"),this.inputText.setAttribute("type","text"),this.inputText.setAttribute("placeholder","Name..."),this.inputText.setAttribute("id","name"),this.inputSubmit.setAttribute("type","submit"),this.inputSubmit.setAttribute("value","Send"),this.popup.appendChild(this.form),this.form.appendChild(this.h2),this.h2.appendChild(this.text_h2),this.form.appendChild(this.p),this.p.appendChild(this.text_p),this.form.appendChild(this.inputText),this.form.appendChild(this.inputSubmit)}},{key:"createButtonGo",value:function(){this.button.classList.add("button-go"),this.popup.appendChild(this.button),this.button.appendChild(this.textGo)}},{key:"clearFormUser",value:function(){this.popup.innerHTML=""}},{key:"creatPopupMagic",value:function(){this.textFire=document.createTextNode("Fire"),this.textIce=document.createTextNode("Ice"),this.textWater=document.createTextNode("Water"),this.textSoil=document.createTextNode("Soil"),this.textHealth=document.createTextNode("+10"),this.magic.appendChild(this.btnFire),this.btnFire.appendChild(this.textFire),this.magic.appendChild(this.btnIce),this.btnIce.appendChild(this.textIce),this.magic.appendChild(this.btnWater),this.btnWater.appendChild(this.textWater),this.magic.appendChild(this.btnSoil),this.btnSoil.appendChild(this.textSoil),this.magic.appendChild(this.btnHealth),this.btnHealth.appendChild(this.textHealth)}},{key:"createFormTask",value:function(){this.formId.classList.remove("hidden"),this.formId.classList.add("fight"),this.inputText.setAttribute("type","text"),this.p.setAttribute("id","information"),this.inputText.setAttribute("id","number"),this.inputSubmit.setAttribute("type","submit"),this.inputSubmit.setAttribute("value","Fight"),this.formId.appendChild(this.p),this.formId.appendChild(this.inputText),this.formId.appendChild(this.inputSubmit)}},{key:"clearInputFormFight",value:function(){var t=document.querySelector("#information");this.inputText.value="",t.innerText="",this.formId.classList.add("hidden")}},{key:"createButtonRestart",value:function(){this.button.classList.add("button-rest"),this.popup.appendChild(this.button),this.button.appendChild(this.text)}},{key:"createTable",value:function(){var t=0;for(this.table.classList.add("table"),this.divTable.appendChild(this.table),this.table.appendChild(this.tbody),this.tbody.appendChild(this.tr),this.tr.appendChild(this.tdName),this.tr.appendChild(this.tdLevel),this.tdName.innerText="Name",this.tdLevel.innerText="Level";null!==localStorage.getItem("player"+t);){for(var e=localStorage.getItem("player"+t).split(","),i=this.tbody.insertRow(),n=0;n<2;n+=1){i.insertCell().appendChild(document.createTextNode(e[n]))}t+=1}}}]),t}();e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.randomize=function(t,e){return Math.round(Math.random()*(t-e))+e};e.cache={heroName:null}},function(t,e,i){t.exports=i.p+"audio/game.mp3"},function(t,e,i){"use strict";i(6),i(7),i(8)},function(t,e){t.exports='<!DOCTYPE html> <html lang=en> <head> <meta charset=UTF-8> <meta name=viewport content="width=device-width,initial-scale=1"> <meta http-equiv=X-UA-Compatible content="ie=edge"> <link rel=stylesheet href=./img/favicon.png type=image/png> <title>Magic</title> </head> <body> <canvas id=canvas> Your browser does not support the HTML5 canvas tag. </canvas> <div id=popup></div> <div id=magic class=magic></div> <form id=form class=hidden></form> <div class="table-wrapper hidden"></div> </body> </html> '},function(t,e){},function(t,e,i){"use strict";var n,a=i(9);var s=new((n=a)&&n.__esModule?n:{default:n}).default;window.addEventListener("load",s.start.bind(s)),window.addEventListener("resize",s.resize.bind(s))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(10),r=(n=s)&&n.__esModule?n:{default:n};var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.querySelector("#canvas"),this.ctx=this.canvas.getContext("2d"),this.stage=new r.default(this.ctx)}return a(t,[{key:"start",value:function(){this.resize(),this.stage.downloadAssets(),this.stage.playAudio(),this.loop()}},{key:"resize",value:function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}},{key:"render",value:function(){switch(this.stage.current){case"loading":this.stage.loading.render();break;case"start":this.stage.startGame.render();break;case"rules":this.stage.rules.render();break;case"game":this.stage.game.render();break;case"over":this.stage.gameOver.render();break;default:throw new Error("No stage is choosen")}}},{key:"update",value:function(){switch(this.stage.current){case"loading":this.stage.loading.update(),this.stage.current=this.stage.loading.nextStage;break;case"start":this.stage.startGame.update(),this.stage.current=this.stage.startGame.nextStage;break;case"rules":this.stage.rules.update(),this.stage.current=this.stage.rules.nextStage;break;case"game":this.stage.pauseAudio(),this.stage.game.update(),this.stage.current=this.stage.game.nextStage,this.stage.game.nextStage="game";break;case"over":this.stage.gameOver.update(),this.stage.game.restartGame(),this.stage.current=this.stage.gameOver.nextStage,this.stage.gameOver.nextStage="over";break;default:throw new Error("No stage is choosen")}}},{key:"loop",value:function(){this.update(),this.render(),window.requestAnimationFrame(this.loop.bind(this))}}]),t}();e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=c(i(11)),s=c(i(12)),r=c(i(13)),o=c(i(14)),h=c(i(19)),u=c(i(20)),l=c(i(4));function c(t){return t&&t.__esModule?t:{default:t}}var d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.current="loading",this.assets=new u.default,this.bgMusic=new Audio,this.loading=new a.default(this.context,this.assets),this.startGame=new s.default(this.context,this.assets),this.rules=new r.default(this.context,this.assets),this.game=new o.default(this.context,this.assets),this.gameOver=new h.default(this.context,this.assets)}return n(t,[{key:"downloadAssets",value:function(){this.assets.addRessource(),this.assets.download()}},{key:"playAudio",value:function(){this.bgMusic.src=l.default,this.bgMusic.play(),this.bgMusic.loop=!0}},{key:"pauseAudio",value:function(){this.bgMusic.pause()}}]),t}();e.default=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),r=(n=s)&&n.__esModule?n:{default:n};var o=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.assets=i,this.nextStage="loading"}return a(t,[{key:"render",value:function(){this.drawTitle()}},{key:"update",value:function(){this.assets.isDone()&&(this.changeStage(),this.clearStage())}},{key:"drawTitle",value:function(){new r.default(this.context,"Loading...","#fff",110,"Arial").draw(window.innerWidth/2,window.innerHeight/2)}},{key:"changeStage",value:function(){this.nextStage="start"}},{key:"clearStage",value:function(){this.context.clearRect(0,0,window.innerWidth,window.innerHeight)}}]),t}();e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=o(i(1)),s=i(3),r=o(i(2));function o(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.assets=i,this.nextStage="start",this.bool=!0,this.nameUser=[],this.form=new r.default}return n(t,[{key:"render",value:function(){this.drawBg(),this.bool&&(this.form.createFormUser(),this.bool=!1)}},{key:"update",value:function(){var t=this;this.form.inputSubmit.addEventListener("click",function(e){e.preventDefault(),t.form.clearFormUser(),s.cache.heroName=t.form.inputText.value,t.changeStage(),t.clearStage()})}},{key:"drawBg",value:function(){var t=this.assets.getAsset("start.svg");new a.default(this.context,t).draw()}},{key:"changeStage",value:function(){this.nextStage="rules"}},{key:"clearStage",value:function(){this.context.clearRect(0,0,window.innerWidth,window.innerHeight)}}],[{key:"getHeroName",value:function(){return this.nameUser}}]),t}();e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=o(i(1)),s=o(i(0)),r=o(i(2));function o(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.assets=i,this.nextStage="rules",this.form=new r.default,this.bool=!0}return n(t,[{key:"render",value:function(){this.drawBg(),this.drawTitle(),this.drawRule("1. You need to defeat all monsters.",60),this.drawRule("2. Fight monsters using magic.",100),this.drawRule("3. Each correct decision of a problem leaves for you the right of a course.",140),this.drawRule("4. If the answer is wrong, the monster takes away your health.",180),this.bool&&(this.form.createButtonGo(),this.bool=!1)}},{key:"update",value:function(){var t=this;this.form.button.addEventListener("click",function(e){e.preventDefault(),t.form.clearFormUser(),t.changeStage(),t.clearStage()})}},{key:"drawBg",value:function(){var t=this.assets.getAsset("rule.svg");new a.default(this.context,t).draw()}},{key:"drawTitle",value:function(){new s.default(this.context,"HOW TO PLAY","#3D8DEC",70,"Teko").draw(window.innerWidth/2,window.innerHeight/3)}},{key:"drawRule",value:function(t,e){new s.default(this.context,t,"#fff",24,"Lato").draw(window.innerWidth/2,window.innerHeight/3+e)}},{key:"changeStage",value:function(){this.nextStage="game"}},{key:"clearStage",value:function(){this.context.clearRect(0,0,window.innerWidth,window.innerHeight)}}]),t}();e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=c(i(1)),s=i(15),r=c(i(0)),o=i(3),h=c(i(16)),u=c(i(17)),l=c(i(2));function c(t){return t&&t.__esModule?t:{default:t}}function d(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var f=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.assets=i,this.nextStage="game",this.audio=new Audio,this.form=new l.default,this.xFire=0,this.yFire=0,this.hero=null,this.enemy=null,this.fight=null,this.bool=!0,this.boolMagic=!0,this.boolFight=!0,this.boolBang=!1,this.fireBangEnemy=!1,this.selectMagic=null,this.key=this,this.count=15,this.add=10,this.text="",this.value=[],this.keyPlayer=0,this.player="player",this.numberArithmetic=0,this.numberOne=0,this.numberTwo=0,this.intArrayRangeSimple=[1,15],this.intArrayRangeDifficult=[0,100],this.numbersArray=[],this.wordsEnglish={cat:["кот","кошка","котенок"],dog:["собака","щенок","собачка"],fish:["рыба","рыбка"],mouse:["мышь","мышка","мышонок"]}}return n(t,[{key:"render",value:function(){var t=this;if(this.hero||this.enemy||(this.createHero(),this.createEnemy()),this.bool&&(this.form.creatPopupMagic(),this.selectMagic=document.querySelectorAll("#magic"),this.bool=!1),this.enemy.health<=0&&(this.hero.changeLevel(),this.createEnemy()),this.createFight(300,300),this.drawBg(),this.drawNameHero(),this.drawHealthHero(),this.drawLevelHero(),this.drawEntity(this.hero),this.drawNameEnemy(),this.drawHealthEnemy(),this.drawEntity(this.enemy.imgArm),this.drawEntity(this.enemy.imgLeg),this.drawEntity(this.enemy.imgTrunk),this.drawEntity(this.enemy.imgHead),this.drawLighting(),this.fireBangEnemy&&this.xFire<this.enemy.imgTrunk.x?this.createFire():this.fireBangEnemy&&this.xFire>this.enemy.imgTrunk.x&&(this.fight.playAudio(),this.fireBangEnemy=!1,this.enemy.changeHealth(this.count),this.x=this.xFire,this.y=this.yFire,this.createFight(this.x,this.y),this.drawEntity(this.fight),this.form.magic.classList.remove("hidden")),this.fireBangHero&&this.xFire>this.hero.x+50?this.createFire():this.fireBangHero&&this.xFire<this.hero.x&&(this.fight.playAudio(),this.fireBangHero=!1,this.hero.changeHealth(this.count),this.x=this.xFire,this.y=this.yFire,this.createFight(this.x,this.y),this.drawEntity(this.fight),this.form.magic.classList.remove("hidden")),this.boolBang?(this.fireBangHero=!0,this.xFire=window.innerWidth-500,this.yFire=window.innerHeight/2-80,this.boolBang=!1):this.boolBangEnemy&&(this.fireBangEnemy=!0,this.xFire=window.innerWidth/6,this.yFire=window.innerHeight/2-80,this.boolBangEnemy=!1),this.boolMagic){this.boolMagic=!1;for(var e=0;e<this.selectMagic.length;e+=1)this.selectMagic[e].addEventListener("click",this.openMagic.bind(this))}this.boolFight&&(this.boolFight=!1,this.form.inputSubmit.addEventListener("click",function(e){e.preventDefault(),t.Validate(t.numberArithmetic)}))}},{key:"update",value:function(){if(this.createFire(),this.hero.health<=0){for(this.form.magic.classList.add("hidden"),this.value=[this.hero.fullName,this.hero.level];localStorage.getItem(""+this.player+this.keyPlayer);)this.keyPlayer+=1;localStorage.setItem(""+this.player+this.keyPlayer,""+this.value),this.changeStage(),this.clearStage()}}},{key:"drawBg",value:function(){var t=this.assets.getAsset("bg-game1.svg");new a.default(this.context,t).draw()}},{key:"drawLighting",value:function(){var t=this.assets.getAsset("lighting"+(0,o.randomize)(3,1)+".png");this.x=this.hero.x+(0,o.randomize)(170,0),this.y=this.hero.y+(0,o.randomize)(170,0),this.context.drawImage(t,this.x,this.y,100,100)}},{key:"drawNameHero",value:function(){new r.default(this.context,this.hero.fullName,"#5ba0f3",30,"Lato").draw(200,50)}},{key:"drawHealthHero",value:function(){new r.default(this.context,"Health: "+this.hero.health,"#fff",25,"Teko").draw(200,80)}},{key:"drawLevelHero",value:function(){new r.default(this.context,"Level: "+this.hero.level,"#fff",20,"Teko").draw(200,110)}},{key:"drawNameEnemy",value:function(){new r.default(this.context,this.enemy.fullName,"#d360ff",30,"Lato").draw(window.innerWidth-220,50)}},{key:"drawHealthEnemy",value:function(){new r.default(this.context,"Health: "+this.enemy.health,"#fff ",25,"Teko").draw(window.innerWidth-220,80)}},{key:"createHero",value:function(){var t=this.assets.getAsset("hero.png");this.hero=new s.Hero(t,250,300),this.hero.setName(o.cache.heroName?o.cache.heroName:"Clark")}},{key:"createEnemy",value:function(){this.enemy=new s.Enemy(this.assets.getAsset("head"+(0,o.randomize)(2,1)+".png"),this.assets.getAsset("arm"+(0,o.randomize)(2,1)+".png"),this.assets.getAsset("leg"+(0,o.randomize)(2,1)+".png"),this.assets.getAsset("trunk"+(0,o.randomize)(2,1)+".png")),this.startAudio()}},{key:"createFight",value:function(t,e){var i=this.assets.getAsset("bang.png");this.fight=new u.default(i,t,e)}},{key:"drawEntity",value:function(t){this.context.drawImage(t.img,t.x,t.y,t.width,t.height)}},{key:"openMagic",value:function(t){var e=t.target.innerText;switch("FireIceWaterSoil+10"!==e&&(this.form.magic.classList.add("hidden"),this.form.createFormTask()),e){case"Fire":this.createTask(e,"+"),this.numberArithmetic=this.Sum(this.numberOne,this.numberTwo);break;case"Ice":this.createTask(e,"-"),this.numberArithmetic=this.Subtraction(this.numberOne,this.numberTwo);break;case"Water":this.createTask(e,"*"),this.numberArithmetic=this.Multiplication(this.numberOne,this.numberTwo);break;case"Soil":this.createTask();break;case"+10":this.createTask(e);break;default:throw new Error("No stage is choosen")}}},{key:"createTask",value:function(t,e){if(void 0===t&&void 0===e){var i=Object.keys(this.wordsEnglish),n=Math.floor(Math.random()*i.length);this.text=document.createTextNode("Translate into Russian: "+i[n])}else if(void 0!==t&&void 0===e){for(var a=(0,o.randomize)(70,10),s=0;s<4;s+=1)this.numbersArray.push(a+s);var r=this.numbersArray.join(", ");this.text=document.createTextNode("Enter the next number: "+r.substr(0,r.length-3)+" ...")}else this.numberOne="Fire"===t||"Ice"===t?o.randomize.apply(void 0,d(this.intArrayRangeDifficult)):o.randomize.apply(void 0,d(this.intArrayRangeSimple)),this.numberTwo="Fire"===t||"Ice"===t?o.randomize.apply(void 0,d(this.intArrayRangeDifficult)):o.randomize.apply(void 0,d(this.intArrayRangeSimple)),this.numberOne>this.numberTwo?this.text=document.createTextNode("How much will: "+this.numberOne+" "+e+" "+this.numberTwo+" = ?"):this.text=document.createTextNode("How much will: "+this.numberTwo+" "+e+" "+this.numberOne+" = ?");var h=document.createElement("p"),u=document.querySelector("#information");this.form.div.appendChild(h),h.appendChild(this.text),u.appendChild(this.text)}},{key:"Sum",value:function(t,e){return this.numberOne=t,this.numberTwo=e,this.numberOne+this.numberTwo}},{key:"Subtraction",value:function(t,e){return this.numberOne=t,this.numberTwo=e,this.numberOne>this.numberTwo?this.numberOne-this.numberTwo:this.numberTwo-this.numberOne}},{key:"Multiplication",value:function(t,e){return this.numberOne=t,this.numberTwo=e,this.numberOne*this.numberTwo}},{key:"Validate",value:function(t){if(+this.form.inputText.value===t&&""!==this.form.inputText.value)this.boolBangEnemy=!0;else if(this.numbersArray[this.numbersArray.length-1])this.numbersArray[this.numbersArray.length-1]===+this.form.inputText.value?this.hero.addHealth(this.add):this.enemy.addHealth(this.add),this.form.magic.classList.remove("hidden");else if(this.form.inputText.value){for(var e=0,i=Object.keys(this.wordsEnglish),n=0;n<i.length;n+=1)for(var a=this.wordsEnglish[i[n]],s=0;s<a.length;s+=1)this.form.inputText.value.toUpperCase()===a[s].toUpperCase()&&(this.boolBangEnemy=!0,e+=1);0===e&&(this.boolBang=!0)}else this.boolBang=!0;this.numbersArray=[],this.boolFight=!1,this.form.clearInputFormFight()}},{key:"createFire",value:function(){this.fireBangEnemy?this.xFire+=2:this.xFire-=2;var t=this.assets.getAsset("fire.png");this.context.drawImage(t,this.xFire,this.yFire,100,100)}},{key:"changeStage",value:function(){this.nextStage="over"}},{key:"clearStage",value:function(){this.context.clearRect(0,0,window.innerWidth,window.innerHeight)}},{key:"restartGame",value:function(){this.startAudio(),this.hero.health=100,this.hero.level=1,this.enemy.health=100,this.form.divTable.classList.add("hidden")}},{key:"startAudio",value:function(){this.audio.src=h.default,this.audio.play()}}]),t}();e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.Hero=function(){function t(e,i,n){a(this,t),this.img=e,this.width=i,this.height=n,this.x=window.innerWidth/6,this.y=window.innerHeight/2-180,this.fullName="",this.health=100,this.level=1}return n(t,[{key:"resize",value:function(){this.x=window.innerWidth/2,this.y=window.innerHeight/2}},{key:"changeHealth",value:function(t){this.health-=t}},{key:"addHealth",value:function(t){this.health+t<100?this.health+=t:this.health=100}},{key:"changeLevel",value:function(){this.level+=1}},{key:"setName",value:function(t){this.fullName=t}}]),t}(),e.Enemy=function(){function t(e,i,n,s){a(this,t),this.name=[["Ужасный","Злобный","Сопливый"],["Огр","Гном","Гоблин"],["Том","Макс","Дима"]],this.fullName=this.creatFullName(),this.health=100,this.imgHead={img:e,x:window.innerWidth-480,y:window.innerHeight/2-160,width:150,height:150},this.imgArm={img:i,x:window.innerWidth-360,y:window.innerHeight/2-80,width:100,height:180},this.imgLeg={img:n,x:window.innerWidth-460,y:window.innerHeight/2+30,width:100,height:150},this.imgTrunk={img:s,x:window.innerWidth-500,y:window.innerHeight/2-80,width:200,height:130},window.addEventListener("resize",this.resize.bind(this))}return n(t,[{key:"resize",value:function(){this.x=window.innerWidth/2,this.y=window.innerHeight/2}},{key:"creatFullName",value:function(){for(var t="",e=0;e<this.name.length;e+=1)t+=e===this.name.length-1?""+this.name[e][Math.floor(Math.random()*this.name[e].length)]:this.name[e][Math.floor(Math.random()*this.name[e].length)]+" ";return t}},{key:"changeHealth",value:function(t){this.health-=t}},{key:"addHealth",value:function(t){this.health+t<100?this.health+=t:this.health=100}}]),t}()},function(t,e,i){t.exports=i.p+"audio/start.mp3"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(18),r=(n=s)&&n.__esModule?n:{default:n},o=i(3);var h=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.img=e,this.audio=new Audio,this.x=i,this.y=n,this.width=220,this.height=220}return a(t,[{key:"playAudio",value:function(){this.audio.src=r.default,this.audio.play()}},{key:"positionBangX",value:function(){return this.x=(0,o.randomize)(10,30),this.x}},{key:"positionBangY",value:function(){return this.y=(0,o.randomize)(0,110),this.y}}]),t}();e.default=h},function(t,e,i){t.exports=i.p+"audio/explode.mp3"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=h(i(1)),s=h(i(0)),r=h(i(4)),o=h(i(2));function h(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.assets=i,this.nextStage="over",this.audio=new Audio,this.form=new o.default,this.bool=!0,this.boolMagic=!0}return n(t,[{key:"render",value:function(){this.drawBg(),this.drawTitle(),this.form.divTable.classList.remove("hidden"),this.bool&&(this.playAudio(),this.form.createButtonRestart(),this.form.createTable(),this.bool=!1)}},{key:"update",value:function(){var t=this;this.form.button.addEventListener("click",function(e){e.preventDefault(),t.form.popup.innerHTML="",t.boolMagic&&(t.pauseAudio(),t.boolMagic=!1,t.form.magic.classList.remove("hidden")),t.changeStage(),t.clearStage(),t.bool=!0})}},{key:"drawBg",value:function(){var t=this.assets.getAsset("bg-game-over.svg");new a.default(this.context,t).draw()}},{key:"drawTitle",value:function(){new s.default(this.context,"GAME OVER","#fff",70,"Teko").draw(window.innerWidth/2+10,100)}},{key:"changeStage",value:function(){this.nextStage="game"}},{key:"clearStage",value:function(){this.context.clearRect(0,0,window.innerWidth,window.innerHeight)}},{key:"playAudio",value:function(){this.audio.src=r.default,this.audio.play(),this.audio.loop=!0}},{key:"pauseAudio",value:function(){this.audio.pause()}}]),t}();e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=T(i(21)),s=T(i(22)),r=T(i(23)),o=T(i(24)),h=T(i(25)),u=T(i(26)),l=T(i(27)),c=T(i(28)),d=T(i(29)),f=T(i(30)),m=T(i(31)),g=T(i(32)),p=T(i(33)),v=T(i(34)),y=T(i(35)),b=T(i(36)),w=T(i(37)),x=T(i(38)),k=T(i(39));function T(t){return t&&t.__esModule?t:{default:t}}var E=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.list=[],this.cache={},this.done=0}return n(t,[{key:"addRessource",value:function(){this.list.push(s.default),this.list.push(r.default),this.list.push(o.default),this.list.push(h.default),this.list.push(u.default),this.list.push(l.default),this.list.push(c.default),this.list.push(d.default),this.list.push(a.default),this.list.push(f.default),this.list.push(m.default),this.list.push(g.default),this.list.push(p.default),this.list.push(v.default),this.list.push(y.default),this.list.push(b.default),this.list.push(w.default),this.list.push(x.default),this.list.push(k.default)}},{key:"download",value:function(){var t=this;this.list.forEach(function(e,i){var n=new Image,a=t.list[i].replace(/images\//,"");n.addEventListener("load",function(){t.done+=1}),n.src=e,t.cache[a]=n})}},{key:"isDone",value:function(){return this.done===this.list.length}},{key:"getAsset",value:function(t){return this.cache[t]}}]),t}();e.default=E},function(t,e,i){t.exports=i.p+"images/bg-game-over.svg"},function(t,e,i){t.exports=i.p+"images/start.svg"},function(t,e,i){t.exports=i.p+"images/rule.svg"},function(t,e,i){t.exports=i.p+"images/hero.png"},function(t,e,i){t.exports=i.p+"images/fire.png"},function(t,e,i){t.exports=i.p+"images/lighting1.png"},function(t,e,i){t.exports=i.p+"images/lighting2.png"},function(t,e,i){t.exports=i.p+"images/lighting3.png"},function(t,e,i){t.exports=i.p+"images/bg-game1.svg"},function(t,e,i){t.exports=i.p+"images/explosion.svg"},function(t,e,i){t.exports=i.p+"images/head1.png"},function(t,e,i){t.exports=i.p+"images/head2.png"},function(t,e,i){t.exports=i.p+"images/arm1.png"},function(t,e,i){t.exports=i.p+"images/arm2.png"},function(t,e,i){t.exports=i.p+"images/leg1.png"},function(t,e,i){t.exports=i.p+"images/leg2.png"},function(t,e,i){t.exports=i.p+"images/trunk1.png"},function(t,e,i){t.exports=i.p+"images/trunk2.png"},function(t,e,i){t.exports=i.p+"images/bang.png"}]);